{% extends "custom_admin/base.html" %}
{% load static %}
{% block content %}

        <!-- Page Title -->
        <div class="row no-margin-padding">
          <div class="col-md-6">
            <h3 class="block-title">Edit Room Allotment</h3>
          </div>
          <div class="col-md-6">
            <ol class="breadcrumb">
              <li class="breadcrumb-item">
                <a href="index.html">
                  <span class="ti-home"></span>
                </a>
              </li>
              <li class="breadcrumb-item">Room Allotments</li>
              <li class="breadcrumb-item active">Edit Room Allotment</li>
            </ol>
          </div>
        </div>
        <!-- /Page Title -->
        <!-- Main Content -->
        <div class="container-fluid">
          <div class="row">
            <!-- Widget Item -->
            <div class="col-md-12">
              <div class="widget-area-2 proclinic-box-shadow">
                <h3 class="widget-title">Edit Room Allotment</h3>
                {% comment %} <form>
                  <div class="form-row">
                   
                    <div class="form-group col-md-12">
                      <label for="room-type">Room Type</label>
                      <select class="form-control" id="room-type">
                        <option>ICU</option>
                        <option selected>General</option>
                        <option>AC Room</option>
                      </select>
                    </div>
                    <div class="form-group col-md-6">
                      <label for="patient-name">Patient Name</label>
                      <input
                        value="Damodar Reddy"
                        type="text"
                        placeholder="Patient Name"
                        class="form-control"
                        id="patient-name"
                      />
                    </div>
                    <div class="form-group col-md-6">
                      <label for="allot-date">Allotment Date</label>
                      <input
                        value="2018-10-10"
                        type="date"
                        placeholder="Allotment Date"
                        class="form-control"
                        id="allot-date"
                      />
                    </div>
                    <div class="form-group col-md-6">
                      <label for="discharge-date">Discharge Date</label>
                      <input
                        value="2018-10-16"
                        type="date"
                        placeholder="Discharge Date"
                        class="form-control"
                        id="discharge-date"
                      />
                    </div>
                    <div class="form-group col-md-6">
                      <label for="doctor-name">Doctor Name</label>
                      <input
                        value="Dr Manoj Kumar"
                        type="text"
                        placeholder="Doctor Name"
                        class="form-control"
                        id="doctor-name"
                      />
                    </div>

                    <div class="form-group col-md-6 mb-3">
                      <button type="submit" class="btn btn-primary btn-lg">
                        Updated
                      </button>
                    </div>
                  </div>
                </form> {% endcomment %}

                <form method="post">
                  {% csrf_token %}
                  <div class="form-row">
                      <div class="form-group col-md-12">
                          <label for="{{ form.room_type.id_for_label }}">Room Type</label>
                          <select class="form-control{% if form.room_type.errors %} is-invalid{% endif %}"
                                  name="{{ form.room_type.name }}"
                                  id="{{ form.room_type.id_for_label }}">
                              {% for value, label in form.room_type.field.choices %}
                                  <option value="{{ value }}" {% if value == form.room_type.value %}selected{% endif %}>
                                      {{ label }}
                                  </option>
                              {% endfor %}
                          </select>
                          {% if form.room_type.errors %}
                              <div class="invalid-feedback">
                                  {% for error in form.room_type.errors %}
                                      {{ error }}
                                  {% endfor %}
                              </div>
                          {% endif %}
                      </div>
                      
                      <div class="form-group col-md-6">
                        <label for="{{ form.patient.id_for_label }}">Patient</label>
                        <select class="form-control{% if form.patient.errors %} is-invalid{% endif %}"
                                name="{{ form.patient.name }}"
                                id="{{ form.patient.id_for_label }}">
                            {% for patient in form.patient.field.queryset %}
                                <option value="{{ patient.pk }}" {% if patient.pk == form.patient.value %}selected{% endif %}>
                                    {{ patient }}
                                </option>
                            {% endfor %}
                        </select>
                        {% if form.patient.errors %}
                            <div class="invalid-feedback">
                                {% for error in form.patient.errors %}
                                    {{ error }}
                                {% endfor %}
                            </div>
                        {% endif %}
                    </div>
      
                      <div class="form-group col-md-6">
                          <label for="{{ form.allotment_date.id_for_label }}">Allotment Date</label>
                          <input
                              type="date"
                              class="form-control{% if form.allotment_date.errors %} is-invalid{% endif %}"
                              name="{{ form.allotment_date.name }}"
                              id="{{ form.allotment_date.id_for_label }}"
                              value="{{ form.allotment_date.value|date:'Y-m-d' }}"
                              placeholder="Allotment Date"
                          />
                          {% if form.allotment_date.errors %}
                              <div class="invalid-feedback">
                                  {% for error in form.allotment_date.errors %}
                                      {{ error }}
                                  {% endfor %}
                              </div>
                          {% endif %}
                      </div>
      
                      <div class="form-group col-md-6">
                          <label for="{{ form.discharge_date.id_for_label }}">Discharge Date</label>
                          <input
                              type="date"
                              class="form-control{% if form.discharge_date.errors %} is-invalid{% endif %}"
                              name="{{ form.discharge_date.name }}"
                              id="{{ form.discharge_date.id_for_label }}"
                              value="{{ form.discharge_date.value|date:'Y-m-d' }}"
                              placeholder="Discharge Date"
                          />
                          {% if form.discharge_date.errors %}
                              <div class="invalid-feedback">
                                  {% for error in form.discharge_date.errors %}
                                      {{ error }}
                                  {% endfor %}
                              </div>
                          {% endif %}
                      </div>
      
                      <div class="form-group col-md-6">
                        <label for="{{ form.doctor.id_for_label }}">Doctor</label>
                        <select class="form-control{% if form.doctor.errors %} is-invalid{% endif %}"
                                name="{{ form.doctor.name }}"
                                id="{{ form.doctor.id_for_label }}">
                            {% for doctor in form.doctor.field.queryset %}
                                <option value="{{ doctor.pk }}" {% if doctor.pk == form.doctor.value %}selected{% endif %}>
                                    {{ doctor }}
                                </option>
                            {% endfor %}
                        </select>
                        {% if form.doctor.errors %}
                            <div class="invalid-feedback">
                                {% for error in form.doctor.errors %}
                                    {{ error }}
                                {% endfor %}
                            </div>
                        {% endif %}
                    </div>
      
                      <div class="form-group col-md-6 mb-3">
                          <button type="submit" class="btn btn-primary btn-lg">
                              Update
                          </button>
                      </div>
                  </div>
              </form>
              </div>
            </div>
            <!-- /Widget Item -->
          </div>
        </div>
        <!-- /Main Content -->
      </div>
      <!-- /Page Content -->
    </div>
    {% endblock %}
