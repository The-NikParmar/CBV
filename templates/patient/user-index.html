{% extends "patient/base.html" %}
{% load static %}
{% block content %}

      <!-- Page Content -->
    
        <!-- Breadcrumb -->
        <!-- Page Title -->
        <div class="row no-margin-padding">
          <div class="col-md-6">
            <h3 class="block-title">Dashboard</h3>
          </div>
          <div class="col-md-6">
            <ol class="breadcrumb">
              <li class="breadcrumb-item">
                <a href="{% url "patient:user_index" %}">
                  <span class="ti-home"></span>
                </a>
              </li>
              <li class="breadcrumb-item active">Dashboard</li>
            </ol>
          </div>
        </div>
        <!-- /Page Title -->

        <!-- Main Content -->
        <div class="container-fluid home">
          
        </div>

          <div class="row">
            <!-- Widget Item -->
           
          </div>
          <div class="row">
        
					</div>

          <div class="row">
            <!-- Widget Item -->
            <div class="col-md-12">
              <div class="widget-area-2 proclinic-box-shadow">
                <h3 class="widget-title">Appointments</h3>
                <div class="table-responsive">
                  <table class="table table-bordered table-striped">
                    <thead>
                      <tr>
                        <th>Patient Name</th>
                        <th>Doctor</th>
                        <th>Check-Up</th>
                        <th>Date</th>
                        <th>Time</th>
                        <th>Status</th>
                      </tr>
                    </thead>
                    <tbody>
                      {% for appointment in latest_appointments %}
                      <tr>
                        <td>{{ appointment.patient.user.first_name }}</td>
                        <td>Dr. {{ appointment.doctor.user.first_name }} {{ appointment.doctor.user.last_name }}</td>
                        <td>{{ appointment.disease.problem_name }}</td>
                        <td>{{ appointment.appointment_date|date:'d-m-Y' }}</td>
                        <td>{{ appointment.appointment_time }}</td>
                        <td>
                          {% if appointment.status == 'P' %}
                            <span class="badge badge-warning">Pending</span>
                          {% elif appointment.status == 'C' %}
                            <span class="badge badge-success">Confirmed</span>
                          {% elif appointment.status == 'D' %}
                            <span class="badge badge-primary">Completed</span>
                          {% elif appointment.status == 'X' %}
                            <span class="badge badge-danger">Canceled</span>
                          {% else %}
                            <span class="badge badge-secondary">Unknown</span>
                          {% endif %}
                        </td>
                      {% endfor %}
                      </tr>
                      
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
            <!-- /Widget Item -->
          </div>
          

          <div class="row">
            <!-- Widget Item -->
            <div class="col-md-12">
              <div class="widget-area-2 progress-status proclinic-box-shadow">
                <h3 class="widget-title">Doctors </h3>
                <div class="table-responsive">
                  <table class="table table-bordered">
                    <thead>
                      <tr>
                        <th>Doctor</th>
                        <th>Speciality</th>
                      </tr>
                    </thead>
                    <tbody>
                      {% for doctor in doctors  %}
                      <tr>
                        <td>Dr.{{ doctor.user.first_name }} {{ doctor.user.last_name }}</td>
                        <td>{{ doctor.specialization.specialization_name}}</td>
                      </tr>
                      {% endfor %}
                     
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
            <!-- /Widget Item -->
          </div>
        </div>
        <!-- /Main Content -->
      </div>
      <!-- /Page Content -->
    </div>
    
    {% endblock %}